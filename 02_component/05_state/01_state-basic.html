<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
<div id="root"></div>
<!-- 
    state 란 ?
    state 는 컴포넌트 내부에서 바꿀 수 있는 값을 의미
    props는 컴포넌트가 사용되는 과정에서 부모 컴포넌트가 설정하고 주는
    읽기 전용 값이지만, state는 컴포넌트 내부에서 설정되는 값이다
    우리는 state의 변경되는 값을 관리하여 다양한 작업을 진행할 수 있다

    리액트는 클래스형 컴포넌트에서 state를 직접 사용가능
    하지만 함수형은 직접 불가 usestate라는 hooks를 제공한다...
-->


<script type="text/babel">
   //- 전통적인 방식(생성자에서 this.state 설정) 
   //부모의 생성자 호출한다
    class Counter extends React.Component{
        constructor(){
            super();

            //아래는 객체 리터럴 형식 이다
            this.state={
                number:3
            }
            //생성자 안에서 state 사용방법
            //1. state는 this. 을 명시해야한다
            //2. 이름은 반드시 state여야한다
            //3. state에 저장되는 값의 형태는 반드시 객체 리터럴 형태로 작성해야한다.
        }

        render(){
            const number = this.state.number;
            console.log(number);

            /*
                state에 변화주기
                state에 객체 형태로 컴포넌트가 관리할 값들이 저장되어 있을 때
                state에 변화를 주고 싶으면 state에 직접 접근하는 것이 아닌
                setter(setState)메소드를 호출하고 관리할 값에 변화를 준 새로운 객체를 
                인수로 전달해야한다
                
                setState()를  통해 변화를 주변 자동으로 render() 는 재 호출된다
                그러면 render()가 변화하는 새로운 엘리먼트를 가상 dom에 갈아 끼우게 되고
                실제 dom tree와 차이나는 부분만 확인해서 다시 그려주게 된다..
            */

            return(
                <>
                <h1>{this.state.number}</h1>

                <button onClick={()=>this.setState({number:number+1})}>+1</button>
                </>
            )
        }
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<Counter/>)

    </script>
    
</body>
</html>